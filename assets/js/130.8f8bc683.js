(window.webpackJsonp=window.webpackJsonp||[]).push([[130],{551:function(n,t,a){"use strict";a.r(t);var s=a(65),e=Object(s.a)({},(function(){var n=this,t=n.$createElement,a=n._self._c||t;return a("ContentSlotsDistributor",{attrs:{"slot-key":n.$parent.slotKey}},[a("h1",{attrs:{id:"globaleventhandlers-接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globaleventhandlers-接口"}},[n._v("#")]),n._v(" GlobalEventHandlers 接口")]),n._v(" "),a("p",[n._v("指定事件的回调函数，推荐使用的方法是元素的"),a("code",[n._v("addEventListener")]),n._v("方法。")]),n._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[n._v("div"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("addEventListener")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[n._v("'click'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(",")]),n._v(" clickHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(",")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[n._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("除了之外，还有一种方法可以直接指定事件的回调函数。")]),n._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[n._v("div"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),n._v("onclick "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" clickHandler"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br")])]),a("p",[n._v("这个接口是由"),a("code",[n._v("GlobalEventHandlers")]),n._v("接口提供的。它的优点是使用比较方便，缺点是只能为每个事件指定一个回调函数，并且无法指定事件触发的阶段（捕获阶段还是冒泡阶段）。")]),n._v(" "),a("p",[a("code",[n._v("HTMLElement")]),n._v("、"),a("code",[n._v("Document")]),n._v("和"),a("code",[n._v("Window")]),n._v("都继承了这个接口，也就是说，各种 HTML 元素、"),a("code",[n._v("document")]),n._v("对象、"),a("code",[n._v("window")]),n._v("对象上面都可以使用"),a("code",[n._v("GlobalEventHandlers")]),n._v("接口提供的属性。下面就列出这个接口提供的主要的事件属性。")]),n._v(" "),a("h2",{attrs:{id:"globaleventhandlers-onabort"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globaleventhandlers-onabort"}},[n._v("#")]),n._v(" GlobalEventHandlers.onabort")]),n._v(" "),a("p",[n._v("某个对象的"),a("code",[n._v("abort")]),n._v("事件（停止加载）发生时，就会调用"),a("code",[n._v("onabort")]),n._v("属性指定的回调函数。")]),n._v(" "),a("p",[n._v("各种元素的停止加载事件，到底如何触发，目前并没有统一的规定。因此实际上，这个属性现在一般只用在"),a("code",[n._v("<img>")]),n._v("元素上面。")]),n._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// HTML 代码如下")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[n._v('// <img src="example.jpg" id="img">')]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("var")]),n._v(" img "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[n._v("'img'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\nimg"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[n._v("onabort")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("function")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[n._v("'image load aborted.'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br")])]),a("h2",{attrs:{id:"globaleventhandlers-onerror"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globaleventhandlers-onerror"}},[n._v("#")]),n._v(" GlobalEventHandlers.onerror")]),n._v(" "),a("p",[a("code",[n._v("error")]),n._v("事件发生时，就会调用"),a("code",[n._v("onerror")]),n._v("属性指定的回调函数。")]),n._v(" "),a("p",[a("code",[n._v("error")]),n._v("事件分成两种。")]),n._v(" "),a("p",[n._v("一种是 JavaScript 的运行时错误，这会传到"),a("code",[n._v("window")]),n._v("对象，导致"),a("code",[n._v("window.onerror()")]),n._v("。")]),n._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[n._v("window"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[n._v("onerror")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("function")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[n._v("message"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(",")]),n._v(" source"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(",")]),n._v(" lineno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(",")]),n._v(" colno"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(",")]),n._v(" error")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// ...")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("p",[a("code",[n._v("window.onerror")]),n._v("的处理函数共接受五个参数，含义如下。")]),n._v(" "),a("ul",[a("li",[n._v("message：错误信息字符串")]),n._v(" "),a("li",[n._v("source：报错脚本的 URL")]),n._v(" "),a("li",[n._v("lineno：报错的行号，是一个整数")]),n._v(" "),a("li",[n._v("colno：报错的列号，是一个整数")]),n._v(" "),a("li",[n._v("error： 错误对象")])]),n._v(" "),a("p",[n._v("另一种是资源加载错误，比如"),a("code",[n._v("<img>")]),n._v("或"),a("code",[n._v("<script>")]),n._v("加载的资源出现加载错误。这时，Error 对象会传到对应的元素，导致该元素的"),a("code",[n._v("onerror")]),n._v("属性开始执行。")]),n._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[n._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[n._v("onerror")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("function")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[n._v("event")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n  "),a("span",{pre:!0,attrs:{class:"token comment"}},[n._v("// ...")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),n._v("\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("p",[n._v("注意，一般来说，资源的加载错误不会触发"),a("code",[n._v("window.onerror")]),n._v("。")]),n._v(" "),a("h2",{attrs:{id:"globaleventhandlers-onload、globaleventhandlers-onloadstart"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globaleventhandlers-onload、globaleventhandlers-onloadstart"}},[n._v("#")]),n._v(" GlobalEventHandlers.onload、GlobalEventHandlers.onloadstart")]),n._v(" "),a("p",[n._v("元素完成加载时，会触发"),a("code",[n._v("load")]),n._v("事件，执行"),a("code",[n._v("onload()")]),n._v("。它的典型使用场景是"),a("code",[n._v("window")]),n._v("对象和"),a("code",[n._v("<img>")]),n._v("元素。对于"),a("code",[n._v("window")]),n._v("对象来说，只有页面的所有资源加载完成（包括图片、脚本、样式表、字体等所有外部资源），才会触发"),a("code",[n._v("load")]),n._v("事件。")]),n._v(" "),a("p",[n._v("对于"),a("code",[n._v("<img>")]),n._v("和"),a("code",[n._v("<video>")]),n._v("等元素，加载开始时还会触发"),a("code",[n._v("loadstart")]),n._v("事件，导致执行"),a("code",[n._v("onloadstart")]),n._v("。")]),n._v(" "),a("h2",{attrs:{id:"globaleventhandlers-onfocus-globaleventhandlers-onblur"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globaleventhandlers-onfocus-globaleventhandlers-onblur"}},[n._v("#")]),n._v(" GlobalEventHandlers.onfocus，GlobalEventHandlers.onblur")]),n._v(" "),a("p",[n._v("当前元素获得焦点时，会触发"),a("code",[n._v("element.onfocus")]),n._v("；失去焦点时，会触发"),a("code",[n._v("element.onblur")]),n._v("。")]),n._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[n._v("element"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[n._v("onfocus")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("function")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[n._v('"onfocus event detected!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\nelement"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[n._v("onblur")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("function")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n  console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[n._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[n._v('"onblur event detected!"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br"),a("span",{staticClass:"line-number"},[n._v("4")]),a("br"),a("span",{staticClass:"line-number"},[n._v("5")]),a("br"),a("span",{staticClass:"line-number"},[n._v("6")]),a("br")])]),a("p",[n._v("注意，如果不是可以接受用户输入的元素，要触发"),a("code",[n._v("onfocus")]),n._v("，该元素必须有"),a("code",[n._v("tabindex")]),n._v("属性。")]),n._v(" "),a("h2",{attrs:{id:"globaleventhandlers-onscroll"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globaleventhandlers-onscroll"}},[n._v("#")]),n._v(" GlobalEventHandlers.onscroll")]),n._v(" "),a("p",[n._v("页面或元素滚动时，会触发"),a("code",[n._v("scroll")]),n._v("事件，导致执行"),a("code",[n._v("onscroll()")]),n._v("。")]),n._v(" "),a("h2",{attrs:{id:"globaleventhandlers-oncontextmenu-globaleventhandlers-onshow"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#globaleventhandlers-oncontextmenu-globaleventhandlers-onshow"}},[n._v("#")]),n._v(" GlobalEventHandlers.oncontextmenu，GlobalEventHandlers.onshow")]),n._v(" "),a("p",[n._v("用户在页面上按下鼠标的右键，会触发"),a("code",[n._v("contextmenu")]),n._v("事件，导致执行"),a("code",[n._v("oncontextmenu()")]),n._v("。如果该属性执行后返回"),a("code",[n._v("false")]),n._v("，就等于禁止了右键菜单。"),a("code",[n._v("document.oncontextmenu")]),n._v("与"),a("code",[n._v("window.oncontextmenu")]),n._v("效果一样。")]),n._v(" "),a("div",{staticClass:"language-javascript line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[n._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(".")]),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[n._v("oncontextmenu")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[n._v("=")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("function")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(")")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("{")]),n._v("\n  "),a("span",{pre:!0,attrs:{class:"token keyword"}},[n._v("return")]),n._v(" "),a("span",{pre:!0,attrs:{class:"token boolean"}},[n._v("false")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[n._v(";")]),n._v("\n")])]),n._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[n._v("1")]),a("br"),a("span",{staticClass:"line-number"},[n._v("2")]),a("br"),a("span",{staticClass:"line-number"},[n._v("3")]),a("br")])]),a("p",[n._v("上面代码中，"),a("code",[n._v("oncontextmenu")]),n._v("属性执行后返回"),a("code",[n._v("false")]),n._v("，右键菜单就不会出现。")]),n._v(" "),a("p",[n._v("元素的右键菜单显示时，会触发该元素的"),a("code",[n._v("onshow")]),n._v("监听函数。")]),n._v(" "),a("h2",{attrs:{id:"其他的事件属性"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#其他的事件属性"}},[n._v("#")]),n._v(" 其他的事件属性")]),n._v(" "),a("p",[n._v("鼠标的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("onclick")]),n._v(" "),a("li",[n._v("ondblclick")]),n._v(" "),a("li",[n._v("onmousedown")]),n._v(" "),a("li",[n._v("onmouseenter")]),n._v(" "),a("li",[n._v("onmouseleave")]),n._v(" "),a("li",[n._v("onmousemove")]),n._v(" "),a("li",[n._v("onmouseout")]),n._v(" "),a("li",[n._v("onmouseover")]),n._v(" "),a("li",[n._v("onmouseup")]),n._v(" "),a("li",[n._v("onwheel")])]),n._v(" "),a("p",[n._v("键盘的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("onkeydown")]),n._v(" "),a("li",[n._v("onkeypress")]),n._v(" "),a("li",[n._v("onkeyup")])]),n._v(" "),a("p",[n._v("焦点的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("onblur")]),n._v(" "),a("li",[n._v("onfocus")])]),n._v(" "),a("p",[n._v("表单的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("oninput")]),n._v(" "),a("li",[n._v("onchange")]),n._v(" "),a("li",[n._v("onsubmit")]),n._v(" "),a("li",[n._v("onreset")]),n._v(" "),a("li",[n._v("oninvalid")]),n._v(" "),a("li",[n._v("onselect")])]),n._v(" "),a("p",[n._v("触摸的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("ontouchcancel")]),n._v(" "),a("li",[n._v("ontouchend")]),n._v(" "),a("li",[n._v("ontouchmove")]),n._v(" "),a("li",[n._v("ontouchstart")])]),n._v(" "),a("p",[n._v("拖动的事件属性分成两类：一类与被拖动元素相关，另一类与接收被拖动元素的容器元素相关。")]),n._v(" "),a("p",[n._v("被拖动元素的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("ondragstart：拖动开始")]),n._v(" "),a("li",[n._v("ondrag：拖动过程中，每隔几百毫秒触发一次")]),n._v(" "),a("li",[n._v("ondragend：拖动结束")])]),n._v(" "),a("p",[n._v("接收被拖动元素的容器元素的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("ondragenter：被拖动元素进入容器元素。")]),n._v(" "),a("li",[n._v("ondragleave：被拖动元素离开容器元素。")]),n._v(" "),a("li",[n._v("ondragover：被拖动元素在容器元素上方，每隔几百毫秒触发一次。")]),n._v(" "),a("li",[n._v("ondrop：松开鼠标后，被拖动元素放入容器元素。")])]),n._v(" "),a("p",[a("code",[n._v("<dialog>")]),n._v("对话框元素的事件属性。")]),n._v(" "),a("ul",[a("li",[n._v("oncancel")]),n._v(" "),a("li",[n._v("onclose")])])])}),[],!1,null,null,null);t.default=e.exports}}]);