(window.webpackJsonp=window.webpackJsonp||[]).push([[192],{616:function(t,s,a){"use strict";a.r(s);var e=a(65),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"_03-ç”Ÿå‘½å‘¨æœŸ-lifecycle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_03-ç”Ÿå‘½å‘¨æœŸ-lifecycle"}},[t._v("#")]),t._v(" 03_ç”Ÿå‘½å‘¨æœŸ LifeCycle")]),t._v(" "),a("blockquote",[a("p",[t._v("ğŸ“¢ å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯Milo")]),t._v(" "),a("p",[t._v("ğŸ“¢ è¿™ç¯‡æ–‡ç« æ˜¯å­¦ä¹  React ä¸­ ç”Ÿå‘½å‘¨æœŸçš„å­¦ä¹ ç¬”è®°")])]),t._v(" "),a("h2",{attrs:{id:"å¼•è¨€"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#å¼•è¨€"}},[t._v("#")]),t._v(" å¼•è¨€")]),t._v(" "),a("p",[t._v("åœ¨ React ä¸­ä¸ºæˆ‘ä»¬æä¾›äº†ä¸€äº›ç”Ÿå‘½å‘¨æœŸé’©å­å‡½æ•°ï¼Œè®©æˆ‘ä»¬èƒ½åœ¨ React æ‰§è¡Œçš„é‡è¦é˜¶æ®µï¼Œåœ¨é’©å­å‡½æ•°ä¸­åšä¸€äº›äº‹æƒ…ã€‚é‚£ä¹ˆåœ¨ React çš„ç”Ÿå‘½å‘¨æœŸä¸­ï¼Œæœ‰å“ªäº›é’©å­å‡½æ•°å‘¢ï¼Œæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹")]),t._v(" "),a("p",[t._v("React ç”Ÿå‘½å‘¨æœŸï¼ˆæ–°ï¼‰ä¸»è¦åŒ…æ‹¬ä¸‰ä¸ªé˜¶æ®µï¼šåˆå§‹åŒ–é˜¶æ®µï¼Œæ›´æ–°é˜¶æ®µï¼Œé”€æ¯é˜¶æ®µï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210821102622645.png",alt:"image-20210821102622645"}})]),t._v(" "),a("h2",{attrs:{id:"ä¸€ã€åˆå§‹åŒ–é˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸€ã€åˆå§‹åŒ–é˜¶æ®µ"}},[t._v("#")]),t._v(" ä¸€ã€åˆå§‹åŒ–é˜¶æ®µ")]),t._v(" "),a("h3",{attrs:{id:"_1-constructor-æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-constructor-æ‰§è¡Œ"}},[t._v("#")]),t._v(" 1 constructor æ‰§è¡Œ")]),t._v(" "),a("p",[a("code",[t._v("constructor")]),t._v(" åœ¨ç»„ä»¶åˆå§‹åŒ–çš„æ—¶å€™åªä¼šæ‰§è¡Œä¸€æ¬¡")]),t._v(" "),a("p",[t._v("é€šå¸¸å®ƒç”¨äºåšè¿™ä¸¤ä»¶äº‹")]),t._v(" "),a("ol",[a("li",[t._v("åˆå§‹åŒ–å‡½æ•°å†…éƒ¨ "),a("code",[t._v("state")])]),t._v(" "),a("li",[t._v("ç»‘å®šå‡½æ•°")])]),t._v(" "),a("div",{staticClass:"language-js line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("constructor")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'è¿›å…¥æ„é€ å™¨'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("super")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è§£å†³demoä¸­thisæŒ‡å‘é—®é¢˜(ç»‘å®šå‡½æ•°)")]),t._v("\n\t\t"),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("death "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("death")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("bind")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("this")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br"),a("span",{staticClass:"line-number"},[t._v("5")]),a("br"),a("span",{staticClass:"line-number"},[t._v("6")]),a("br"),a("span",{staticClass:"line-number"},[t._v("7")]),a("br")])]),a("p",[t._v("ç°åœ¨æˆ‘ä»¬é€šå¸¸ä¸ä¼šä½¿ç”¨ "),a("code",[t._v("constructor")]),t._v(" å±æ€§ï¼Œè€Œæ˜¯æ”¹ç”¨ç±»åŠ ç®­å¤´å‡½æ•°çš„æ–¹æ³•ï¼Œæ¥æ›¿ä»£ "),a("code",[t._v("constructor")])]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åˆå§‹åŒ– "),a("code",[t._v("state")])]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[t._v("state "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n\t"),a("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[t._v("ä¾‹å¦‚ï¼Œæˆ‘ä»¬å¯ä»¥è¿™æ ·åˆ›å»ºå‡½æ•°")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//è‡ªå®šä¹‰æ–¹æ³•â€”â€”â€”â€”è¦ç”¨èµ‹å€¼è¯­å¥çš„å½¢å¼+ç®­å¤´å‡½æ•°")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("death")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br")])]),a("h3",{attrs:{id:"_2-getderivedstatefromprops-æ‰§è¡Œ-æ–°é’©å­"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-getderivedstatefromprops-æ‰§è¡Œ-æ–°é’©å­"}},[t._v("#")]),t._v(" 2 getDerivedStateFromProps æ‰§è¡Œ ï¼ˆæ–°é’©å­ï¼‰")]),t._v(" "),a("p",[t._v("// ä»"),a("code",[t._v("Props")]),t._v("å‚æ•°ä¸­è·å¾—æ´¾ç”Ÿçš„ï¼ˆè¡ç”Ÿçš„ï¼‰çŠ¶æ€"),a("code",[t._v("State")])]),t._v(" "),a("p",[t._v("è¿™ä¸ªæ˜¯ React æ–°ç‰ˆæœ¬ä¸­æ–°å¢çš„2ä¸ªé’©å­ä¹‹ä¸€ï¼Œæ®è¯´å¾ˆå°‘ç”¨ã€‚")]),t._v(" "),a("p",[a("code",[t._v("getDerivedStateFromProps")]),t._v(" åœ¨åˆå§‹åŒ–å’Œæ›´æ–°ä¸­éƒ½ä¼šè¢«è°ƒç”¨ï¼Œå¹¶ä¸”åœ¨ "),a("code",[t._v("render")]),t._v(" æ–¹æ³•ä¹‹å‰è°ƒç”¨ï¼Œå®ƒè¿”å›ä¸€ä¸ªå¯¹è±¡ç”¨æ¥æ›´æ–° "),a("code",[t._v("state")])]),t._v(" "),a("p",[a("code",[t._v("getDerivedStateFromProps")]),t._v(" æ˜¯ç±»ä¸Šç›´æ¥ç»‘å®šçš„é™æ€ï¼ˆ"),a("code",[t._v("static")]),t._v("ï¼‰æ–¹æ³•ï¼Œæ‰€ä»¥è°ƒç”¨æ—¶å‰é¢åŠ ä¸Š"),a("code",[t._v("static")])]),t._v(" "),a("p",[t._v("å®ƒæ¥æ”¶ä¸¤ä¸ªå‚æ•° "),a("code",[t._v("props")]),t._v(" å’Œ "),a("code",[t._v("state")]),t._v("ï¼Œå…¶ä¸­"),a("code",[t._v("props")]),t._v(" æ˜¯å³å°†è¦æ›¿ä»£ "),a("code",[t._v("state")]),t._v(" çš„å€¼ï¼Œè€Œ "),a("code",[t._v("state")]),t._v(" æ˜¯å½“å‰æœªæ›¿ä»£å‰çš„å€¼")]),t._v(" "),a("blockquote",[a("p",[t._v("æ³¨æ„ï¼š"),a("code",[t._v("state")]),t._v(" çš„å€¼åœ¨ä»»ä½•æ—¶å€™éƒ½å–å†³äºä¼ å…¥çš„ "),a("code",[t._v("props")]),t._v(" ï¼Œä¸ä¼šå†æ”¹å˜")])]),t._v(" "),a("p",[t._v("ä¾‹å¦‚ï¼š")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("static")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getDerivedStateFromProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" props\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\nReactDOM"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("render")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token tag"}},[a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("<")]),a("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("Count")])]),t._v(" "),a("span",{pre:!0,attrs:{class:"token attr-name"}},[t._v("count")]),a("span",{pre:!0,attrs:{class:"token attr-value"}},[a("span",{pre:!0,attrs:{class:"token punctuation attr-equals"}},[t._v("=")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')]),t._v("109"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v('"')])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("/>")])]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("document"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getElementById")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'.test'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("p",[a("code",[t._v("count")]),t._v(" çš„å€¼ä¸ä¼šæ”¹å˜ï¼Œä¸€ç›´æ˜¯ 109ï¼Œåˆå§‹åŒ–stateå’Œæ›´æ–°setStateå¦æ— æ³•æ”¹å˜")]),t._v(" "),a("h3",{attrs:{id:"_3-render-æ‰§è¡Œ-å¼€å‘å¸¸ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-render-æ‰§è¡Œ-å¼€å‘å¸¸ç”¨"}},[t._v("#")]),t._v(" 3 render æ‰§è¡Œï¼ˆå¼€å‘å¸¸ç”¨ï¼‰")]),t._v(" "),a("p",[a("code",[t._v("render()")]),t._v(" æ–¹æ³•æ˜¯ç»„ä»¶ä¸­å¿…é¡»å®ç°çš„æ–¹æ³•ï¼Œç”¨äºæ¸²æŸ“ DOM ï¼Œä½†æ˜¯å®ƒä¸ä¼šçœŸæ­£çš„æ“ä½œ DOMï¼Œå®ƒçš„ä½œç”¨æ˜¯æŠŠéœ€è¦çš„ä¸œè¥¿è¿”å›å‡ºå»ã€‚")]),t._v(" "),a("p",[t._v("å®ç°æ¸²æŸ“ DOM æ“ä½œçš„æ˜¯ "),a("code",[t._v("ReactDOM.render()")])]),t._v(" "),a("blockquote",[a("p",[t._v("æ³¨æ„ï¼šé¿å…åœ¨ "),a("code",[t._v("render")]),t._v(" ä¸­ä½¿ç”¨ "),a("code",[t._v("setState")]),t._v(" ï¼Œå¦åˆ™ä¼šæ­»å¾ªç¯")])]),t._v(" "),a("h3",{attrs:{id:"_4-componentdidmount-æ‰§è¡Œ-å¼€å‘å¸¸ç”¨"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-componentdidmount-æ‰§è¡Œ-å¼€å‘å¸¸ç”¨"}},[t._v("#")]),t._v(" 4 componentDidMount æ‰§è¡Œï¼ˆå¼€å‘å¸¸ç”¨ï¼‰")]),t._v(" "),a("p",[t._v("//ç»„ä»¶æ›´æ–°å®Œæ¯•çš„é’©å­")]),t._v(" "),a("p",[a("code",[t._v("componentDidMount")]),t._v(" çš„æ‰§è¡Œæ„å‘³ç€åˆå§‹åŒ–æŒ‚è½½æ“ä½œå·²ç»åŸºæœ¬å®Œæˆï¼Œå®ƒä¸»è¦ç”¨äºç»„ä»¶æŒ‚è½½å®ŒæˆååšæŸäº›æ“ä½œ")]),t._v(" "),a("p",[t._v("è¿™ä¸ªæŒ‚è½½å®ŒæˆæŒ‡çš„æ˜¯ï¼šç»„ä»¶æ’å…¥ DOM tree")]),t._v(" "),a("p",[t._v("ä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­ä¸­åšä¸€äº›åˆå§‹åŒ–çš„äº‹ï¼Œä¾‹å¦‚ï¼šå¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯")]),t._v(" "),a("h3",{attrs:{id:"åˆå§‹åŒ–é˜¶æ®µæ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#åˆå§‹åŒ–é˜¶æ®µæ€»ç»“"}},[t._v("#")]),t._v(" åˆå§‹åŒ–é˜¶æ®µæ€»ç»“")]),t._v(" "),a("p",[t._v("ç”±ReactDOM.render()è§¦å‘---åˆæ¬¡æ¸²æŸ“")]),t._v(" "),a("ol",[a("li",[t._v("constructor()")]),t._v(" "),a("li",[t._v("getDerivedStateFromProps")]),t._v(" "),a("li",[t._v("render()")]),t._v(" "),a("li",[t._v("componentDidMount() =====> å¸¸ç”¨")])]),t._v(" "),a("p",[a("code",[t._v("componentWillMount")])]),t._v(" "),a("p",[t._v("// ç»„ä»¶å°†è¦æŒ‚è½½çš„é’©å­")]),t._v(" "),a("blockquote",[a("p",[t._v("å¦‚æœå­˜åœ¨ "),a("code",[t._v("getDerivedStateFromProps")]),t._v(" å’Œ "),a("code",[t._v("getSnapshotBeforeUpdate")]),t._v(" å°±ä¸ä¼šæ‰§è¡Œç”Ÿå‘½å‘¨æœŸ"),a("code",[t._v("componentWillMount")]),t._v("ã€‚")])]),t._v(" "),a("p",[t._v("è¯¥æ–¹æ³•åªåœ¨æŒ‚è½½çš„æ—¶å€™è°ƒç”¨ä¸€æ¬¡ï¼Œè¡¨ç¤ºç»„ä»¶å°†è¦è¢«æŒ‚è½½ï¼Œå¹¶ä¸”åœ¨ "),a("code",[t._v("render")]),t._v(" æ–¹æ³•ä¹‹å‰è°ƒç”¨ã€‚")]),t._v(" "),a("p",[t._v("è¿™ä¸ªæ–¹æ³•åœ¨ React 18ç‰ˆæœ¬ä¸­å°†è¦è¢«åºŸå¼ƒï¼Œå®˜æ–¹è§£é‡Šæ˜¯åœ¨ React å¼‚æ­¥æœºåˆ¶ä¸‹ï¼Œå¦‚æœæ»¥ç”¨è¿™ä¸ªé’©å­å¯èƒ½ä¼šæœ‰ Bug")]),t._v(" "),a("h2",{attrs:{id:"äºŒã€æ›´æ–°é˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#äºŒã€æ›´æ–°é˜¶æ®µ"}},[t._v("#")]),t._v(" äºŒã€æ›´æ–°é˜¶æ®µ")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://ljcimg.oss-cn-beijing.aliyuncs.com/img/image-20210821102622645.png",alt:"image-20210821102622645"}})]),t._v(" "),a("p",[t._v("è¿™é‡Œè®°å½•æ–°ç”Ÿå‘½å‘¨æœŸçš„æµç¨‹")]),t._v(" "),a("h3",{attrs:{id:"_1-getderivedstatefromprops-æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-getderivedstatefromprops-æ‰§è¡Œ"}},[t._v("#")]),t._v(" 1 getDerivedStateFromProps æ‰§è¡Œ")]),t._v(" "),a("p",[t._v("//  è‹¥stateçš„å€¼åœ¨ä»»ä½•æ—¶å€™éƒ½å–å†³äºpropsï¼Œé‚£ä¹ˆå¯ä»¥ä½¿ç”¨getDerivedStateFromProps")]),t._v(" "),a("p",[t._v("æ‰§è¡Œç”Ÿå‘½å‘¨æœŸ"),a("code",[t._v("getDerivedStateFromProps")]),t._v("ï¼Œ è¿”å›çš„å€¼ç”¨äºåˆå¹¶ "),a("code",[t._v("state")]),t._v("ï¼Œç”Ÿæˆæ–°çš„"),a("code",[t._v("state")]),t._v("ã€‚")]),t._v(" "),a("h3",{attrs:{id:"_2-shouldcomponentupdat-æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-shouldcomponentupdat-æ‰§è¡Œ"}},[t._v("#")]),t._v(" 2 shouldComponentUpdat æ‰§è¡Œ")]),t._v(" "),a("p",[t._v("//  æ§åˆ¶ç»„ä»¶æ›´æ–°çš„â€œé˜€é—¨â€")]),t._v(" "),a("p",[a("code",[t._v("shouldComponentUpdate()")]),t._v(" åœ¨ç»„ä»¶æ›´æ–°ä¹‹å‰è°ƒç”¨ï¼Œå¯ä»¥é€šè¿‡è¿”å›å€¼æ¥æ§åˆ¶ç»„ä»¶æ˜¯å¦æ›´æ–°çš„â€œé˜€é—¨â€ï¼Œå…è®¸æ›´æ–°è¿”å› "),a("code",[t._v("true")]),t._v(" ï¼Œåä¹‹ä¸æ›´æ–°")]),t._v(" "),a("h3",{attrs:{id:"_3-render-æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_3-render-æ‰§è¡Œ"}},[t._v("#")]),t._v(" 3 render æ‰§è¡Œ")]),t._v(" "),a("p",[t._v("åœ¨æ§åˆ¶æ˜¯å¦æ›´æ–°çš„å‡½æ•°ä¸­ï¼Œå¦‚æœè¿”å› "),a("code",[t._v("true")]),t._v(" æ‰ä¼šæ‰§è¡Œ "),a("code",[t._v("render")]),t._v(" ,å¾—åˆ°æœ€æ–°çš„ "),a("code",[t._v("React element")])]),t._v(" "),a("h3",{attrs:{id:"_4-getsnapshotbeforeupdate-æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_4-getsnapshotbeforeupdate-æ‰§è¡Œ"}},[t._v("#")]),t._v(" 4 getSnapshotBeforeUpdate æ‰§è¡Œ")]),t._v(" "),a("p",[t._v("//  åœ¨æ›´æ–°ä¹‹å‰è·å–å¿«ç…§")]),t._v(" "),a("p",[t._v("åœ¨æœ€è¿‘ä¸€æ¬¡çš„æ¸²æŸ“è¾“å‡ºä¹‹å‰è¢«æäº¤ä¹‹å‰è°ƒç”¨ï¼Œä¹Ÿå°±æ˜¯å³å°†æŒ‚è½½æ—¶è°ƒç”¨")]),t._v(" "),a("p",[t._v("ç›¸å½“äºæ·˜å®è´­ç‰©çš„å¿«ç…§ï¼Œä¼šä¿ç•™ä¸‹å•å‰çš„å•†å“å†…å®¹ï¼Œåœ¨ React ä¸­å°±ç›¸å½“äºæ˜¯ å³å°†æ›´æ–°å‰çš„çŠ¶æ€")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("getSnapshotBeforeUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getSnapshotBeforeUpdate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("return")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'hello world'")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br"),a("span",{staticClass:"line-number"},[t._v("4")]),a("br")])]),a("blockquote",[a("p",[t._v("å®ƒå¯ä»¥ä½¿ç»„ä»¶åœ¨ DOM çœŸæ­£æ›´æ–°ä¹‹å‰æ•è·ä¸€äº›ä¿¡æ¯ï¼ˆä¾‹å¦‚æ»šåŠ¨ä½ç½®ï¼‰ï¼Œæ­¤ç”Ÿå‘½å‘¨æœŸè¿”å›çš„ä»»ä½•å€¼éƒ½ä¼šä½œä¸ºå‚æ•°ä¼ é€’ç»™ "),a("code",[t._v("componentDidUpdate()")]),t._v("ã€‚å¦‚ä¸éœ€è¦ä¼ é€’ä»»ä½•å€¼ï¼Œé‚£ä¹ˆè¯·è¿”å› null")])]),t._v(" "),a("h3",{attrs:{id:"_5-componentdidupdate-æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_5-componentdidupdate-æ‰§è¡Œ"}},[t._v("#")]),t._v(" 5 componentDidUpdate æ‰§è¡Œ")]),t._v(" "),a("p",[t._v("//  ç»„ä»¶æ›´æ–°å®Œæ¯•çš„é’©å­")]),t._v(" "),a("p",[t._v("ç»„ä»¶åœ¨æ›´æ–°å®Œæ¯•åä¼šç«‹å³è¢«è°ƒç”¨ï¼Œé¦–æ¬¡æ¸²æŸ“ä¸ä¼šè°ƒç”¨")]),t._v(" "),a("p",[a("code",[t._v("componentDidUpdate()")]),t._v("ä¼šæ¥å—ä¸‰ä¸ªå‚æ•°ï¼Œ"),a("code",[t._v("prevProps")]),t._v(","),a("code",[t._v("prevState")]),t._v(","),a("code",[t._v("snapshotValue")]),t._v("ï¼Œå› ä¸ºæ›´æ–°æ‰§è¡Œå®Œæ¯•ï¼Œæ‰€ä»¥ä¸‰ä¸ªå‚æ•°åˆ†åˆ«æ˜¯ä¹‹å‰çš„å‚æ•°propsã€ä¹‹å‰çš„çŠ¶æ€stateä»¥åŠ "),a("code",[t._v("getSnapshotBeforeUpdate()")]),t._v("çš„å¿«ç…§è¿”å›å€¼")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentDidUpdate")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("preProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("preState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("snapshotValue")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'componentDidUpdate'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("preProps"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("preState"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("snapshotValue"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("hr"),t._v(" "),a("h3",{attrs:{id:"æ›´æ–°é˜¶æ®µæ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ›´æ–°é˜¶æ®µæ€»ç»“"}},[t._v("#")]),t._v(" æ›´æ–°é˜¶æ®µæ€»ç»“")]),t._v(" "),a("p",[t._v("ç”±ç»„ä»¶å†…éƒ¨this.setSate()æˆ–çˆ¶ç»„ä»¶é‡æ–°renderè§¦å‘")]),t._v(" "),a("ol",[a("li",[t._v("getDerivedStateFromProps")]),t._v(" "),a("li",[t._v("shouldComponentUpdate()")]),t._v(" "),a("li",[t._v("render()")]),t._v(" "),a("li",[t._v("getSnapshotBeforeUpdate")]),t._v(" "),a("li",[t._v("componentDidUpdate()")])]),t._v(" "),a("p",[t._v("åˆ°æ­¤æ›´æ–°é˜¶æ®µå°±ç»“æŸäº†ï¼Œåœ¨ React æ—§ç‰ˆæœ¬ä¸­æœ‰ä¸¤ä¸ªä¸æ›´æ–°æœ‰å…³çš„é’©å­å‡½æ•°å³å°†åºŸå¼ƒ")]),t._v(" "),a("p",[a("code",[t._v("componentWillReceiveProps")])]),t._v(" "),a("p",[t._v("//  ç»„ä»¶å°†è¦æ¥æ”¶æ–°çš„propsçš„é’©å­")]),t._v(" "),a("p",[t._v("æœ‰ä¸ªå‘ï¼šç¬¬ä¸€æ¬¡å‚æ•°ä¼ é€’ä¸ç®—ï¼Œç¬¬äºŒæ¬¡å‚æ•°ä¼ é€’æ‰å¼€å§‹è°ƒç”¨")]),t._v(" "),a("div",{staticClass:"language-jsx line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-jsx"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("componentWillReceiveProps")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("props")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    console"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'componentWillReceiveProps'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("props"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])]),t._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[t._v("1")]),a("br"),a("span",{staticClass:"line-number"},[t._v("2")]),a("br"),a("span",{staticClass:"line-number"},[t._v("3")]),a("br")])]),a("p",[a("code",[t._v("componentWillUpdate")])]),t._v(" "),a("p",[t._v("//  ç»„ä»¶å°†è¦æ›´æ–°çš„é’©å­")]),t._v(" "),a("p",[a("code",[t._v("componentWillUpdate")]),t._v(" åœ¨ "),a("code",[t._v("render")]),t._v(" ä¹‹å‰æ‰§è¡Œï¼Œè¡¨ç¤ºç»„ä»¶å°†è¦æ›´æ–°")]),t._v(" "),a("h2",{attrs:{id:"ä¸‰ã€é”€æ¯é˜¶æ®µ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ä¸‰ã€é”€æ¯é˜¶æ®µ"}},[t._v("#")]),t._v(" ä¸‰ã€é”€æ¯é˜¶æ®µ")]),t._v(" "),a("h3",{attrs:{id:"componentwillunmount-æ‰§è¡Œ"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#componentwillunmount-æ‰§è¡Œ"}},[t._v("#")]),t._v(" componentWillUnmount  æ‰§è¡Œ")]),t._v(" "),a("p",[t._v("åœ¨ç»„ä»¶å³å°†è¢«å¸è½½æˆ–é”€æ¯æ—¶è¿›è¡Œè°ƒç”¨ã€‚")]),t._v(" "),a("h2",{attrs:{id:"æ€»ç»“"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#æ€»ç»“"}},[t._v("#")]),t._v(" æ€»ç»“")]),t._v(" "),a("p",[a("strong",[t._v("åˆå§‹åŒ–é˜¶æ®µ:")]),t._v(" ç”±ReactDOM.render()è§¦å‘---åˆæ¬¡æ¸²æŸ“")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("constructor(props)")])]),t._v(" "),a("li",[a("p",[t._v("static getDerivedStateFromProps()")])]),t._v(" "),a("li",[a("p",[t._v("render()")])]),t._v(" "),a("li",[a("p",[t._v("componentDidMount() =====> å¸¸ç”¨ï¼Œä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­ä¸­åšä¸€äº›åˆå§‹åŒ–çš„äº‹ï¼Œä¾‹å¦‚ï¼šå¼€å¯å®šæ—¶å™¨ã€å‘é€ç½‘ç»œè¯·æ±‚ã€è®¢é˜…æ¶ˆæ¯")])])]),t._v(" "),a("p",[a("strong",[t._v("æ›´æ–°é˜¶æ®µ:")]),t._v(" ç”±ç»„ä»¶å†…éƒ¨this.setSate()æˆ–çˆ¶ç»„ä»¶é‡æ–°renderè§¦å‘")]),t._v(" "),a("ul",[a("li",[a("p",[t._v("static getDerivedStateFromProps()")])]),t._v(" "),a("li",[a("p",[t._v("shouldComponentUpdate()")])]),t._v(" "),a("li",[a("p",[t._v("render()")])]),t._v(" "),a("li",[a("p",[t._v("getSnapshotBeforeUpdate(props, state)")])]),t._v(" "),a("li",[a("p",[t._v("componentDidUpdate(prevProps,prevState,snapShotValue)")])])]),t._v(" "),a("p",[t._v("**å¸è½½ç»„ä»¶: ** ç”±ReactDOM.unmountComponentAtNode()è§¦å‘")]),t._v(" "),a("ul",[a("li",[t._v("componentWillUnmount()  =====> å¸¸ç”¨ï¼Œä¸€èˆ¬åœ¨è¿™ä¸ªé’©å­ä¸­åšä¸€äº›æ”¶å°¾çš„äº‹ï¼Œä¾‹å¦‚ï¼šå…³é—­å®šæ—¶å™¨ã€å–æ¶ˆè®¢é˜…æ¶ˆæ¯")])]),t._v(" "),a("hr"),t._v(" "),a("blockquote",[a("p",[t._v("åˆå­¦ React ï¼Œå¯¹ç”Ÿå‘½å‘¨æœŸè¿˜æ²¡æœ‰æ·±å…¥çš„ç†è§£ï¼Œåªèƒ½å¤§æ¦‚çŸ¥é“åœ¨ä»€ä¹ˆæ—¶å€™è§¦å‘å“ªä¸ªé’©å­")])])])}),[],!1,null,null,null);s.default=n.exports}}]);